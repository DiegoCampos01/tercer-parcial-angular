import{a as q}from"./chunk-HXPMKNJR.js";import{a as R,b as y,c as A,d as T,e as O,f as H,g as P,h as B,i as $,j,k}from"./chunk-LHPFZ6HT.js";import{a as L,b as w}from"./chunk-AH55HQJT.js";import{a as F}from"./chunk-LIQZNQAM.js";import{a as z}from"./chunk-TKCKWD2P.js";import"./chunk-3UGYG4GW.js";import"./chunk-VH5QYMKE.js";import{Ab as h,Ba as s,Fb as M,Fc as I,Ic as E,Ja as i,Ka as a,La as f,Ma as d,Na as p,Nb as x,Ob as b,Sa as S,a as _,ab as r,b as v,bb as C,db as D,ja as m,kb as N,na as c,sa as g,xa as l}from"./chunk-T7TK6TUY.js";var J=(t,e)=>["/notas/editar",t,e];function K(t,e){t&1&&(i(0,"th",11),r(1,"Alumno"),a())}function Q(t,e){if(t&1&&(i(0,"td",12),r(1),a()),t&2){let o=e.$implicit;m(),C(o.nombreAlumno)}}function U(t,e){t&1&&(i(0,"th",11),r(1,"Curso"),a())}function V(t,e){if(t&1&&(i(0,"td",12),r(1),a()),t&2){let o=e.$implicit;m(),C(o.nombreCurso)}}function W(t,e){t&1&&(i(0,"th",11),r(1,"Calificaci\xF3n"),a())}function X(t,e){if(t&1&&(i(0,"td",13),r(1),a()),t&2){let o=e.$implicit,n=S();s("ngClass",n.getCalificacionColor(o.calificacion)),m(),D(" ",o.calificacion," - ",n.getCalificacionEstado(o.calificacion)," ")}}function Y(t,e){t&1&&(i(0,"th",11),r(1,"Acciones"),a())}function Z(t,e){if(t&1&&(i(0,"td",12)(1,"button",14)(2,"mat-icon"),r(3,"edit"),a()()()),t&2){let o=e.$implicit;m(),s("routerLink",N(1,J,o.alumnoId,o.cursoId))}}function tt(t,e){t&1&&f(0,"tr",15)}function et(t,e){t&1&&f(0,"tr",16)}var G=class t{constructor(e,o,n,u){this.notasService=e;this.alumnosService=o;this.cursosService=n;this.router=u}displayedColumns=["alumno","curso","calificacion","acciones"];notasConDetalles=[];ngOnInit(){this.cargarNotas()}cargarNotas(){this.notasService.getNotas().subscribe(e=>{this.notasConDetalles=e.map(o=>{let n=this.alumnosService.getAlumnoById(o.alumnoId),u=this.cursosService.getCursoById(o.cursoId);return v(_({},o),{nombreAlumno:n?`${n.nombre} ${n.apellido}`:"Alumno no encontrado",nombreCurso:u?u.nombre:"Curso no encontrado"})})})}getCalificacionColor(e){return e>=3?"success":"danger"}getCalificacionEstado(e){return e>=3?"APROBADO":"REPROBADO"}static \u0275fac=function(o){return new(o||t)(c(q),c(F),c(z),c(x))};static \u0275cmp=g({type:t,selectors:[["app-lista-notas"]],decls:18,vars:3,consts:[[1,"container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","alumno"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","curso"],["matColumnDef","calificacion"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"ngClass"],["mat-icon-button","","color","primary",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(o,n){o&1&&(i(0,"div",0)(1,"h2"),r(2,"Lista de Notas"),a(),i(3,"table",1),d(4,2),l(5,K,2,0,"th",3)(6,Q,2,1,"td",4),p(),d(7,5),l(8,U,2,0,"th",3)(9,V,2,1,"td",4),p(),d(10,6),l(11,W,2,0,"th",3)(12,X,2,3,"td",7),p(),d(13,8),l(14,Y,2,0,"th",3)(15,Z,4,4,"td",4),p(),l(16,tt,1,0,"tr",9)(17,et,1,0,"tr",10),a()()),o&2&&(m(3),s("dataSource",n.notasConDetalles),m(13),s("matHeaderRowDef",n.displayedColumns),m(),s("matRowDefColumns",n.displayedColumns))},dependencies:[M,h,k,R,A,P,T,y,B,O,H,$,j,E,I,w,L,b],styles:[".container[_ngcontent-%COMP%]{padding:20px;max-width:1000px;margin:0 auto}table[_ngcontent-%COMP%]{width:100%}.success[_ngcontent-%COMP%]{color:green}.danger[_ngcontent-%COMP%]{color:red}"]})};export{G as ListaNotasComponent};
