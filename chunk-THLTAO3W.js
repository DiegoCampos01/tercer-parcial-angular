import{a as Z}from"./chunk-V2D7VAZ5.js";import{a as Y}from"./chunk-IJRBNZVQ.js";import{a as k,b as V,c as A,e as H,f as N,g as $}from"./chunk-3YUSJBQI.js";import{a as B,b as P,c as F,d as q,e as z,f as G,g as J,h as K,i as Q,j as W,k as X}from"./chunk-LHPFZ6HT.js";import{a as j,b as O}from"./chunk-AH55HQJT.js";import"./chunk-3UGYG4GW.js";import"./chunk-VH5QYMKE.js";import{Ba as c,Cb as E,Fb as I,Fc as T,Hc as R,Ic as y,Ja as o,K as w,Ka as n,La as S,Ma as _,Na as C,Nb as L,Pa as v,Ra as x,Rb as h,S as p,Sa as u,T as f,ab as a,cb as b,ja as r,na as U,sa as g,ta as D,xa as m}from"./chunk-T7TK6TUY.js";function it(t,e){t&1&&(o(0,"th",10),a(1," Nombre "),n())}function ot(t,e){if(t&1&&(o(0,"td",11),a(1),n()),t&2){let i=e.$implicit;r(),b(" ",i.nombre," ")}}function nt(t,e){t&1&&(o(0,"th",10),a(1," Email "),n())}function at(t,e){if(t&1&&(o(0,"td",11),a(1),n()),t&2){let i=e.$implicit;r(),b(" ",i.email," ")}}function rt(t,e){t&1&&(o(0,"th",10),a(1," Rol "),n())}function st(t,e){if(t&1&&(o(0,"td",11),a(1),n()),t&2){let i=e.$implicit;r(),b(" ",i.rol," ")}}function mt(t,e){t&1&&(o(0,"th",10),a(1," Acciones "),n())}function ut(t,e){if(t&1){let i=v();o(0,"button",15),x("click",function(){p(i);let l=u().$implicit,d=u();return f(d.editarUsuario(l))}),o(1,"mat-icon"),a(2,"edit"),n()()}}function lt(t,e){if(t&1){let i=v();o(0,"button",16),x("click",function(){p(i);let l=u().$implicit,d=u();return f(d.eliminarUsuario(l))}),o(1,"mat-icon"),a(2,"delete"),n()()}}function ct(t,e){if(t&1){let i=v();o(0,"td",11)(1,"button",12),x("click",function(){let l=p(i).$implicit,d=u();return f(d.verDetalle(l))}),o(2,"mat-icon"),a(3,"visibility"),n()(),m(4,ut,3,0,"button",13)(5,lt,3,0,"button",14),n()}if(t&2){let i=u();r(4),c("ngIf",i.isAdmin),r(),c("ngIf",i.isAdmin)}}function dt(t,e){t&1&&S(0,"tr",17)}function pt(t,e){t&1&&S(0,"tr",18)}function ft(t,e){if(t&1){let i=v();o(0,"button",19),x("click",function(){p(i);let l=u();return f(l.nuevoUsuario())}),a(1," Nuevo Usuario "),n()}}var M=class t{constructor(e,i,s){this.authService=e;this.usuariosService=i;this.router=s}usuarios=[];columnas=["nombre","email","rol","acciones"];isAdmin=!1;ngOnInit(){this.isAdmin=this.authService.isAdmin(),this.cargarUsuarios()}cargarUsuarios(){this.usuariosService.getUsuarios().subscribe(e=>{this.usuarios=e})}verDetalle(e){}editarUsuario(e){this.router.navigate(["/usuarios/editar",e.id])}eliminarUsuario(e){confirm("\xBFEst\xE1 seguro que desea eliminar este usuario?")&&this.usuariosService.eliminarUsuario(e.id).subscribe(()=>{this.cargarUsuarios()})}nuevoUsuario(){this.router.navigate(["/usuarios/nuevo"])}static \u0275fac=function(i){return new(i||t)(U(Y),U(Z),U(L))};static \u0275cmp=g({type:t,selectors:[["app-lista-usuarios"]],decls:22,vars:4,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","rol"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","accent",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],["mat-raised-button","","color","primary",3,"click"]],template:function(i,s){i&1&&(o(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),a(3,"Usuarios"),n()(),o(4,"mat-card-content")(5,"table",0),_(6,1),m(7,it,2,0,"th",2)(8,ot,2,1,"td",3),C(),_(9,4),m(10,nt,2,0,"th",2)(11,at,2,1,"td",3),C(),_(12,5),m(13,rt,2,0,"th",2)(14,st,2,1,"td",3),C(),_(15,6),m(16,mt,2,0,"th",2)(17,ct,6,2,"td",3),C(),m(18,dt,1,0,"tr",7)(19,pt,1,0,"tr",8),n()(),o(20,"mat-card-actions"),m(21,ft,2,0,"button",9),n()()),i&2&&(r(5),c("dataSource",s.usuarios),r(13),c("matHeaderRowDef",s.columnas),r(),c("matRowDefColumns",s.columnas),r(2),c("ngIf",s.isAdmin))},dependencies:[I,E,h,X,B,F,J,q,P,K,z,G,Q,W,y,R,T,O,j,$,k,H,A,N,V],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-card[_ngcontent-%COMP%]{margin:20px}"]})};var _t=[{path:"",component:M}],tt=class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=D({type:t});static \u0275inj=w({imports:[h.forChild(_t)]})};export{tt as ListaUsuariosModule};
