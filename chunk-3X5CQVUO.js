import{b as Q,c as U}from"./chunk-2V7ITQDO.js";import{b as Z}from"./chunk-BSRP6IBA.js";import"./chunk-VFJUGW5G.js";import"./chunk-BWIHQ5OF.js";import{b as P,d as l,f as D,g as L,j as R,k as B,l as G,m as w,p as V,q as j,s as k,t as z,u as H,y as J,z as K}from"./chunk-KXMWBQJZ.js";import"./chunk-62XFUPSB.js";import{a as Y}from"./chunk-TKCKWD2P.js";import"./chunk-3UGYG4GW.js";import"./chunk-VH5QYMKE.js";import{Ba as a,Cb as q,Fb as N,Hc as W,Ic as X,Ja as t,Ka as e,La as c,Lb as T,Nb as O,Ra as f,a as y,ab as o,b as M,cb as _,ja as m,na as d,sa as A,xa as s}from"./chunk-T7TK6TUY.js";function ee(r,i){r&1&&(t(0,"mat-error"),o(1," El nombre es requerido "),e())}function re(r,i){r&1&&(t(0,"mat-error"),o(1," El nombre debe tener al menos 3 caracteres "),e())}function te(r,i){r&1&&(t(0,"mat-error"),o(1," La descripci\xF3n es requerida "),e())}function oe(r,i){r&1&&(t(0,"mat-error"),o(1," La descripci\xF3n debe tener al menos 10 caracteres "),e())}function ie(r,i){r&1&&(t(0,"mat-error"),o(1," El profesor es requerido "),e())}function ne(r,i){r&1&&(t(0,"mat-error"),o(1," El nombre del profesor debe tener al menos 3 caracteres "),e())}function me(r,i){r&1&&(t(0,"mat-error"),o(1," La duraci\xF3n es requerida "),e())}function ae(r,i){r&1&&(t(0,"mat-error"),o(1," La duraci\xF3n debe ser mayor a 0 "),e())}function le(r,i){r&1&&(t(0,"mat-error"),o(1," El cupo es requerido "),e())}function ue(r,i){r&1&&(t(0,"mat-error"),o(1," El cupo debe ser mayor a 0 "),e())}function se(r,i){r&1&&(t(0,"mat-error"),o(1," El cupo no puede ser mayor a 100 "),e())}var $=class r{constructor(i,u,n,p){this.fb=i;this.cursosService=u;this.router=n;this.route=p;this.cursoForm=this.fb.group({nombre:["",[l.required,l.minLength(3)]],descripcion:["",[l.required,l.minLength(10)]],profesor:["",[l.required,l.minLength(3)]],duracion:["",[l.required,l.min(1)]],cupo:[30,[l.required,l.min(1),l.max(100)]]})}cursoForm;esEdicion=!1;cursoId=null;ngOnInit(){let i=this.route.snapshot.paramMap.get("id");if(i){this.esEdicion=!0,this.cursoId=+i;let u=this.cursosService.getCursoById(this.cursoId);u&&this.cursoForm.patchValue(u)}}onSubmit(){if(this.cursoForm.valid){let i=this.cursoForm.value;if(this.esEdicion&&this.cursoId){let u=M(y({},i),{id:this.cursoId,alumnos:this.cursosService.getCursoById(this.cursoId)?.alumnos||[]});this.cursosService.actualizarCurso(u)}else this.cursosService.agregarCurso(i);this.router.navigate(["/cursos"])}}cancelar(){this.router.navigate(["/cursos"])}static \u0275fac=function(u){return new(u||r)(d(j),d(Y),d(O),d(T))};static \u0275cmp=A({type:r,selectors:[["app-abm-cursos"]],decls:40,vars:15,consts:[[1,"container"],[1,"form-container",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","nombre","placeholder","Ingrese el nombre del curso","required",""],[4,"ngIf"],["matInput","","formControlName","descripcion","placeholder","Ingrese la descripci\xF3n del curso","rows","3","required",""],["matInput","","formControlName","profesor","placeholder","Ingrese el nombre del profesor","required",""],["matInput","","type","number","formControlName","duracion","placeholder","Ingrese la duraci\xF3n en horas","required",""],["matInput","","type","number","formControlName","cupo","placeholder","Ingrese el cupo m\xE1ximo","required",""],[1,"button-container"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(u,n){if(u&1&&(t(0,"div",0)(1,"h2"),o(2),e(),t(3,"form",1),f("ngSubmit",function(){return n.onSubmit()}),t(4,"mat-form-field",2)(5,"mat-label"),o(6,"Nombre del Curso"),e(),c(7,"input",3),s(8,ee,2,0,"mat-error",4)(9,re,2,0,"mat-error",4),e(),t(10,"mat-form-field",2)(11,"mat-label"),o(12,"Descripci\xF3n"),e(),c(13,"textarea",5),s(14,te,2,0,"mat-error",4)(15,oe,2,0,"mat-error",4),e(),t(16,"mat-form-field",2)(17,"mat-label"),o(18,"Profesor"),e(),c(19,"input",6),s(20,ie,2,0,"mat-error",4)(21,ne,2,0,"mat-error",4),e(),t(22,"mat-form-field",2)(23,"mat-label"),o(24,"Duraci\xF3n (horas)"),e(),c(25,"input",7),s(26,me,2,0,"mat-error",4)(27,ae,2,0,"mat-error",4),e(),t(28,"mat-form-field",2)(29,"mat-label"),o(30,"Cupo m\xE1ximo"),e(),c(31,"input",8),s(32,le,2,0,"mat-error",4)(33,ue,2,0,"mat-error",4)(34,se,2,0,"mat-error",4),e(),t(35,"div",9)(36,"button",10),f("click",function(){return n.cancelar()}),o(37,"Cancelar"),e(),t(38,"button",11),o(39),e()()()()),u&2){let p,g,b,C,h,E,v,I,F,x,S;m(2),_("",n.esEdicion?"Editar":"Nuevo"," Curso"),m(),a("formGroup",n.cursoForm),m(5),a("ngIf",(p=n.cursoForm.get("nombre"))==null?null:p.hasError("required")),m(),a("ngIf",(g=n.cursoForm.get("nombre"))==null?null:g.hasError("minlength")),m(5),a("ngIf",(b=n.cursoForm.get("descripcion"))==null?null:b.hasError("required")),m(),a("ngIf",(C=n.cursoForm.get("descripcion"))==null?null:C.hasError("minlength")),m(5),a("ngIf",(h=n.cursoForm.get("profesor"))==null?null:h.hasError("required")),m(),a("ngIf",(E=n.cursoForm.get("profesor"))==null?null:E.hasError("minlength")),m(5),a("ngIf",(v=n.cursoForm.get("duracion"))==null?null:v.hasError("required")),m(),a("ngIf",(I=n.cursoForm.get("duracion"))==null?null:I.hasError("min")),m(5),a("ngIf",(F=n.cursoForm.get("cupo"))==null?null:F.hasError("required")),m(),a("ngIf",(x=n.cursoForm.get("cupo"))==null?null:x.hasError("min")),m(),a("ngIf",(S=n.cursoForm.get("cupo"))==null?null:S.hasError("max")),m(4),a("disabled",!n.cursoForm.valid),m(),_(" ",n.esEdicion?"Actualizar":"Guardar"," ")}},dependencies:[N,q,k,R,P,B,D,L,V,G,w,K,J,z,H,U,Q,X,W,Z],styles:[".container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}h2[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.full-width[_ngcontent-%COMP%]{width:100%}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:16px;margin-top:20px}mat-form-field[_ngcontent-%COMP%]{margin-bottom:8px}textarea[_ngcontent-%COMP%]{min-height:100px}"]})};export{$ as AbmCursosComponent};
