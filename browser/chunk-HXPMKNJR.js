import{J as n,h as s}from"./chunk-T7TK6TUY.js";var u=class r{STORAGE_KEY="notas";notasSubject=new s([]);constructor(){this.cargarNotas()}cargarNotas(){let a=localStorage.getItem(this.STORAGE_KEY);if(a){let t=JSON.parse(a);this.notasSubject.next(t)}else{let t=[{alumnoId:1,cursoId:1,calificacion:4.5},{alumnoId:2,cursoId:2,calificacion:3.8}];this.notasSubject.next(t),this.guardarNotas()}}guardarNotas(){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.notasSubject.value))}getNotas(){return this.notasSubject.asObservable()}getNotasPorAlumno(a){return this.notasSubject.value.filter(t=>t.alumnoId===a)}getNotasPorCurso(a){return this.notasSubject.value.filter(t=>t.cursoId===a)}getNotaPorAlumnoYCurso(a,t){return this.notasSubject.value.find(o=>o.alumnoId===a&&o.cursoId===t)}guardarNota(a){let t=this.notasSubject.value,o=t.findIndex(e=>e.alumnoId===a.alumnoId&&e.cursoId===a.cursoId);o!==-1?t[o]=a:t.push(a),this.notasSubject.next(t),this.guardarNotas()}eliminarNota(a,t){let o=this.notasSubject.value.filter(e=>!(e.alumnoId===a&&e.cursoId===t));this.notasSubject.next(o),this.guardarNotas()}static \u0275fac=function(t){return new(t||r)};static \u0275prov=n({token:r,factory:r.\u0275fac,providedIn:"root"})};export{u as a};
