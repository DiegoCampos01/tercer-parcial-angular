import{J as c,a as u,b as t,h as i}from"./chunk-T7TK6TUY.js";var n=class a{STORAGE_KEY="cursos";cursosSubject=new i([]);constructor(){this.cargarCursos()}cargarCursos(){let r=localStorage.getItem(this.STORAGE_KEY);if(r){let s=JSON.parse(r);this.cursosSubject.next(s)}else{let s=[{id:1,nombre:"Matem\xE1ticas Avanzadas",descripcion:"Curso avanzado de matem\xE1ticas",profesor:"Dr. Garc\xEDa",duracion:60,alumnos:[],cupo:30},{id:2,nombre:"Programaci\xF3n Web",descripcion:"Desarrollo web moderno",profesor:"Ing. Mart\xEDnez",duracion:40,alumnos:[],cupo:25}];this.cursosSubject.next(s),this.guardarCursos()}}guardarCursos(){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.cursosSubject.value))}getCursos(){return this.cursosSubject.asObservable()}getCursoById(r){return this.cursosSubject.value.find(s=>s.id===r)}generarNuevoId(){let r=this.cursosSubject.value;return r.length>0?Math.max(...r.map(s=>s.id))+1:1}agregarCurso(r){let s=t(u({},r),{id:this.generarNuevoId(),alumnos:[]}),o=[...this.cursosSubject.value,s];this.cursosSubject.next(o),this.guardarCursos()}actualizarCurso(r){let s=this.cursosSubject.value.map(o=>o.id===r.id?r:o);this.cursosSubject.next(s),this.guardarCursos()}eliminarCurso(r){let s=this.cursosSubject.value.filter(o=>o.id!==r);this.cursosSubject.next(s),this.guardarCursos()}agregarAlumno(r,s){let o=this.cursosSubject.value.map(e=>e.id===r&&!e.alumnos.includes(s)?t(u({},e),{alumnos:[...e.alumnos,s]}):e);this.cursosSubject.next(o),this.guardarCursos()}removerAlumno(r,s){let o=this.cursosSubject.value.map(e=>e.id===r?t(u({},e),{alumnos:e.alumnos.filter(d=>d!==s)}):e);this.cursosSubject.next(o),this.guardarCursos()}static \u0275fac=function(s){return new(s||a)};static \u0275prov=c({token:a,factory:a.\u0275fac,providedIn:"root"})};export{n as a};
