import{a as G,b as H,c as z,d as J,f as K,g as Q}from"./chunk-3YUSJBQI.js";import{a as $,b as ee}from"./chunk-BSRP6IBA.js";import{c as Z}from"./chunk-VFJUGW5G.js";import"./chunk-BWIHQ5OF.js";import{f as O,g as V,h as R,i as T,j,p as D,r as P,t as B,y as k,z as W}from"./chunk-KXMWBQJZ.js";import"./chunk-62XFUPSB.js";import{a as Y}from"./chunk-2YESWLJY.js";import{a as U}from"./chunk-LIQZNQAM.js";import{a as X}from"./chunk-TKCKWD2P.js";import"./chunk-3UGYG4GW.js";import"./chunk-VH5QYMKE.js";import{$a as M,Ba as l,Bb as x,Cb as F,Fb as w,Hc as q,Ic as L,Ja as o,Ka as n,Lb as A,Nb as E,Pa as b,Ra as g,S as u,Sa as C,T as p,ab as m,cb as _,db as I,eb as h,fb as N,gb as y,ja as c,na as s,sa as S,xa as v}from"./chunk-T7TK6TUY.js";function te(r,i){if(r&1&&(o(0,"mat-card-subtitle"),m(1),n()),r&2){let e=C();c(),I(" Alumno: ",e.alumno.nombre," ",e.alumno.apellido," ")}}function oe(r,i){if(r&1&&(o(0,"mat-option",10),m(1),n()),r&2){let e=i.$implicit;l("value",e.id),c(),_(" ",e.nombre," ")}}var ie=class r{constructor(i,e,t,a,d){this.route=i;this.router=e;this.alumnosService=t;this.cursosService=a;this.inscripcionesService=d}alumno=null;cursosDisponibles=[];cursoSeleccionado=null;ngOnInit(){let i=Number(this.route.snapshot.paramMap.get("id")),e=this.alumnosService.getAlumnoById(i);e?(this.alumno=e,this.cursosService.getCursos().subscribe(t=>{this.cursosDisponibles=t.filter(a=>!a.alumnos?.includes(i))})):this.router.navigate(["/alumnos"])}onSubmit(){this.alumno&&this.cursoSeleccionado&&this.inscripcionesService.inscribirAlumno(this.cursoSeleccionado,this.alumno.id).subscribe({next:()=>{this.router.navigate(["/alumnos"])},error:i=>{console.error("Error al inscribir alumno:",i)}})}cancelar(){this.router.navigate(["/alumnos"])}static \u0275fac=function(e){return new(e||r)(s(A),s(E),s(U),s(X),s(Y))};static \u0275cmp=S({type:r,selectors:[["app-nueva-inscripcion"]],decls:19,vars:4,consts:[["inscripcionForm","ngForm"],[1,"container"],[4,"ngIf"],[3,"ngSubmit"],["appearance","fill"],["name","curso","required","",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"actions"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[3,"value"]],template:function(e,t){if(e&1){let a=b();o(0,"div",1)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),m(4,"Nueva Inscripci\xF3n"),n(),v(5,te,2,2,"mat-card-subtitle",2),n(),o(6,"mat-card-content")(7,"form",3,0),g("ngSubmit",function(){return u(a),p(t.onSubmit())}),o(9,"mat-form-field",4)(10,"mat-label"),m(11,"Seleccionar Curso"),n(),o(12,"mat-select",5),y("ngModelChange",function(f){return u(a),N(t.cursoSeleccionado,f)||(t.cursoSeleccionado=f),p(f)}),v(13,oe,2,2,"mat-option",6),n()(),o(14,"div",7)(15,"button",8),g("click",function(){return u(a),p(t.cancelar())}),m(16,"Cancelar"),n(),o(17,"button",9),m(18," Inscribir "),n()()()()()()}if(e&2){let a=M(8);c(5),l("ngIf",t.alumno),c(7),h("ngModel",t.cursoSeleccionado),c(),l("ngForOf",t.cursosDisponibles),c(4),l("disabled",!a.valid)}},dependencies:[w,x,F,Q,G,z,K,J,H,W,k,B,ee,$,Z,L,q,P,j,O,V,D,T,R],styles:[".container[_ngcontent-%COMP%]{padding:20px;max-width:600px;margin:0 auto}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}"]})};export{ie as NuevaInscripcionComponent};
